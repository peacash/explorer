import{_ as k,a as y,b as v,c as w,d as x,e as g}from"./index.8260ebf8.js";import{o as n,c as D,f as _,w as s,d as o,e as l,t as u,i as d}from"./vendor.783e6b8a.js";const j={data(){return{balance:null,balance_staked:null,public_key:this.$route.params.address,shorten_public_key:!0}},mounted(){document.title=this.$route.params.address+" - Address - Explorer - Pea",this.loop()},unmounted(){clearInterval(this.interval)},methods:{loop(){this.fetchData(),this.interval=setInterval(()=>{this.fetchData()},3e3)},fetchData(){!this.$route.params.address||(fetch(window.localStorage.getItem("api")+"/balance/"+this.$route.params.address).then(e=>e.json()).then(e=>{this.balance=e}),fetch(window.localStorage.getItem("api")+"/balance_staked/"+this.$route.params.address).then(e=>e.json()).then(e=>{this.balance_staked=e}))},balance_to_string(e){let c=18,t="0".repeat(c);t+=e;let p=t.length-c;for(t=[t.slice(0,p),".",t.slice(p)].join("");t.startsWith("0");)t=t.slice(1);return t.startsWith(".")&&(t="0"+t),t},shorten(e){return e.slice(0,12)+"..."+e.slice(-8)}},watch:{"$route.params":{handler(){this.fetchData()},immediate:!0}}},B={class:"flex flex-col gap-2 my-2 w-full"},I=l("Address"),T=l("Public\xA0key"),C=l("Balance"),N=l("Balance\xA0staked");function S(e,c,t,p,a,h){const r=v,f=w,i=x,m=g,b=y;return n(),D("div",B,[_(b,null,{default:s(()=>[a.balance!==null&&a.balance_staked!==null?(n(),o(m,{key:0,bar:!0},{default:s(()=>[_(r,{class:"text-xl justify-center pb-2"},{default:s(()=>[I]),_:1}),a.public_key!==null?(n(),o(r,{key:0},{default:s(()=>[_(f,{class:"w-60"},{default:s(()=>[T]),_:1}),a.shorten_public_key?(n(),o(i,{key:0,onClick:c[0]||(c[0]=V=>a.shorten_public_key=!1)},{default:s(()=>[l(u(h.shorten(a.public_key)),1)]),_:1})):(n(),o(i,{key:1},{default:s(()=>[l(u(a.public_key),1)]),_:1}))]),_:1})):d("",!0),a.balance!==null?(n(),o(r,{key:1},{default:s(()=>[_(f,{class:"w-60"},{default:s(()=>[C]),_:1}),_(i,null,{default:s(()=>[l(u(h.balance_to_string(a.balance)),1)]),_:1})]),_:1})):d("",!0),a.balance_staked!==null?(n(),o(r,{key:2},{default:s(()=>[_(f,{class:"w-60"},{default:s(()=>[N]),_:1}),_(i,null,{default:s(()=>[l(u(h.balance_to_string(a.balance_staked)),1)]),_:1})]),_:1})):d("",!0)]),_:1})):d("",!0)]),_:1})])}var P=k(j,[["render",S],["__scopeId","data-v-7493b347"]]);export{P as default};
